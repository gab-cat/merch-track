{% extends 'base.html' %} 
{% block title %} Order created! {% endblock %}

{% block content %}
{% load static %}

<div id="successPage" class='flex flex-col w-screen h-full bg-[#f3f3f3] opacity-0 transition-opacity duration-500'>
    <div class='flex overflow-visible flex-col justify-center items-center content-center bg-white rounded-xl shadow-xl w-[50%] min-h-[30%] m-auto p-5'>
        <img src="{% static 'assets/sucess-gif.gif' %}" alt="Success" class='w-[30%] my-5' />
        <div class='pb-5 text-5xl font-semibold text-center'>Order Created Successfully</div>
        <div class='w-[50%] text-center mx-auto mt-5 mb-3 text-lg text-gray-600 font-regular'>The order was created correctly and email confirmation has been sent.</div>
        <div class='mt-3 space-x-3'>
            <a href="{% url 'create_order' %}" class='px-5 py-3 my-5 font-semibold tracking-wide hover:opacity-[0.5] transition-all bg-[#3BAFE1] text-white rounded-lg'>Create a new order</a>
            <a href="{% url 'dashboard' %}" class='px-5 py-3 my-5 font-semibold tracking-wide hover:opacity-[0.5] transition-all bg-slate-200  rounded-lg'>Back to Dashboard</a>
        </div>
    </div>
</div>

<style>
    #successPage.show {
        opacity: 1;
    }
    
    .fade-out {
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Fade-in effect
        const successPage = document.getElementById('successPage');
        successPage.classList.add('show');

        // Fade-out effect on link click
        const links = document.querySelectorAll('a');
        links.forEach(link => {
            link.addEventListener('click', function (event) {
                event.preventDefault();
                const href = this.href;
                successPage.classList.add('fade-out');
                setTimeout(() => {
                    window.location.href = href;
                }, 500); // Duration should match the CSS transition duration
            });
        });
    });
</script>


{% endblock %}
